<section class="w-full h-auto flex flex-col p-4 {{ backgroundColor }}">
    <div class="w-full h-32 flex justify-center items-center">
        <div class="h-20 w-2/4 flex border-b-[3px] {{ borderColor }}">
            <div class="w-20 h-full flex justify-center items-center">
                <svg
                    class="w-10 h-10 {{ color }}"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    fill="none"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-width="2"
                        d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"
                    />
                </svg>
            </div>
            <div class="w-full h-full">
                <input
                    type="text"
                    class="h-full w-full border-none text-2xl outline-none {{
                        backgroundColor
                    }} placeholder-black dark:placeholder-white {{ textColor }}"
                    placeholder="Search..."
                    [formControl]="search"
                    (focus)="deselect()"
                />
            </div>
        </div>
    </div>
    <div
        class="w-full h-auto grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 justify-items-center gap-4 px-10 py-5"
    >
        <div
            class="h-80 w-full rounded-lg shadow-md p-4 {{
                borderColor
            }} border-2 flex flex-col justify-center items-center {{
                backgroundColor
            }}"
            *ngFor="let participant of participants; index as i"
        >
            <div
                class="h-full w-full flex flex-col justify-center items-center gap-2"
                *ngIf="selectedIndex != i"
                (click)="selected(i)"
            >
                <img
                    class="w-40 h-40 rounded-xl"
                    [src]="participant.image"
                    alt="avatar"
                    *ngIf="participant.image"
                />
                <p class="text-xl {{ color }}">{{ participant.name }}</p>
            </div>
            <div
                class="h-full w-full flex flex-col justify-center items-center"
                *ngIf="selectedIndex === i"
            >
                <div class="h-1/6 w-full flex items-start justify-between">
                    <p class="text-lg font-bold {{ color }}">
                        {{ participant.name }}
                    </p>
                    <button (click)="deselect()">
                        <svg
                            class="w-6 h-6 {{ textColor }}"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            fill="none"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M6 18 17.94 6M18 18 6.06 6"
                            />
                        </svg>
                    </button>
                </div>
                <div class="h-4/6 w-full overflow-auto">
                    <p class="text-sm {{ textColor }}">
                        {{ participant.description }}
                    </p>
                </div>
                <div class="h-1/6 w-full flex justify-end items-end">
                    <a
                        href="{{ participant.link }}"
                        class="text-blue-500 text-lg underline"
                        *ngIf="participant.link"
                        >to website</a
                    >
                </div>
            </div>
        </div>
        <ng-container *ngIf="participants.length === 0">
            <div class="w-full h-80 flex justify-center items-center">
                <p class="text-2xl text-gray-800 dark:text-white">
                    No participants found
                </p>
            </div>
        </ng-container>
    </div>
</section>

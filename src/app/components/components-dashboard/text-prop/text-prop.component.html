<form [formGroup]="text" class="flex flex-col gap-2 w-full">
    <div class="border-b-2 border-t-2 py-2 px-4">
        <p class="text-sm text-slate-500">Text Position</p>
    </div>
    <div class="flex flex-col gap-2 px-4 w-full">
        <div class="flex h-8 w-full gap-1">
            <button
                class="text-center w-1/3 h-full hover:text-blue-500 px-2"
                (click)="setJustifyText('justify-start')"
                [ngClass]="text.controls['justifyText'].value === 'justify-start' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                TOP
            </button>
            <button
                class="text-center w-1/3 h-full hover:text-blue-500"
                (click)="setJustifyText('justify-center')"
                [ngClass]="text.controls['justifyText'].value === 'justify-center' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                CENTER
            </button>
            <button
                class="text-center w-1/3 h-full hover:text-blue-500 px-2"
                (click)="setJustifyText('justify-end')"
                [ngClass]="text.controls['justifyText'].value === 'justify-end' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                BOTTOM
            </button>
        </div>
    </div>
    <div class="flex flex-col gap-2 px-4 w-full">
        <div class="flex h-8 w-full gap-1">
            <button
                class="text-center w-1/3 h-full hover:text-blue-500"
                (click)="setAlignText('items-left')"
                [ngClass]="text.controls['alignText'].value === 'items-left' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                LEFT
            </button>
            <button
                class="text-center w-1/3 h-full hover:text-blue-500"
                (click)="setAlignText('items-center')"
                [ngClass]="text.controls['alignText'].value === 'items-center' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                CENTER
            </button>
            <button
                class="text-center w-1/3 h-full hover:text-blue-500"
                (click)="setAlignText('items-end')"
                [ngClass]="text.controls['alignText'].value === 'items-end' ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                RIGHT
            </button>
        </div>
    </div>
    <div class="border-b-2 border-t-2 py-2 px-4">
        <p class="text-sm text-slate-500">Side</p>
    </div>

    <div class="flex flex-col gap-2 w-full">
        <div class="flex h-8 w-full px-4">
            <button
                class="text-center w-1/2 h-full hover:text-blue-500 px-2"
                (click)="toggleBol(text.controls['toggleSide'])"
                [ngClass]="text.controls['toggleSide'].value ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                HIDEN
            </button>
            <button
                *ngIf="!text.controls['toggleSide'].value"
                class="text-center w-1/2 h-full hover:text-blue-500 px-2"
                (click)="toggleBol(text.controls['toggleFlip'])"
                [ngClass]="text.controls['toggleFlip'].value ? 'bg-slate-200 text-blue-600 rounded-lg' : ''"
            >
                FLIP
            </button>
        </div>
    </div>
    <div class="border-2 py-2 px-4">
        <p class="text-sm text-slate-500">Content</p>
    </div>
    <div class="pb-2 flex flex-col gap-2">
        <div class="px-4">
            <div
                class="flex justify-start items-center h-8 w-full rounded-t-md border border-b-0 border-gray-400 overflow-hidden bg-slate-100"
            >
                <select
                    class="w-auto text-black-900 text-sm border-none bg-slate-100"
                    formControlName="textSize"
                >
                    <option value="text-xs">X-Small text</option>
                    <option value="text-sm">Small text</option>
                    <option value="text-base">Normal text</option>
                    <option value="text-lg">Large text</option>
                    <option value="text-xl">X-Large text</option>
                    <option value="text-2xl">2X-Large text</option>
                    <option value="text-4xl">4X-Large text</option>
                    <option value="text-6xl">6X-Large text</option>
                </select>
                <div class="h-full w-auto border-x-2">
                    <button
                        (click)="toggleValue(text.controls['textWeight'], 'font-bold')"
                        class="text-center font-bold w-8 h-full hover:bg-slate-200"
                        [ngClass]="text.controls['textWeight'].value === 'font-bold' ? 'bg-slate-200' :'' "
                    >
                        B
                    </button>
                    <button
                        (click)="toggleValue(text.controls['textStyle'], 'italic')"
                        class="text-center italic w-8 h-full hover:bg-slate-200"
                        [ngClass]="text.controls['textStyle'].value === 'italic' ? 'bg-slate-200' :'' "
                    >
                        I
                    </button>
                </div>
            </div>
            <textarea
                type="text"
                name="text"
                formControlName="text"
                class="h-40 min-h-[100px] w-full resize-none rounded-b-md border border-gray-400 bg-transparent px-3 py-2.5 text-sm font-normal"
            ></textarea>
        </div>
        <div class="px-4">
            <div
                class="flex justify-start items-center h-8 w-full rounded-t-md border border-b-0 border-gray-400 overflow-hidden bg-slate-100"
            >
                <select
                    class="w-auto text-black-900 text-sm border-none bg-slate-100"
                    formControlName="subTextSize"
                >
                    <option value="text-xs">X-Small text</option>
                    <option value="text-sm">Small text</option>
                    <option value="text-base">Normal text</option>
                    <option value="text-lg">Large text</option>
                    <option value="text-xl">X-Large text</option>
                </select>
                <div class="h-full w-auto border-x-2">
                    <button
                        (click)="toggleValue(text.controls['subTextWeight'], 'font-bold')"
                        class="text-center font-bold w-8 h-full hover:bg-slate-200"
                        [ngClass]="text.controls['subTextWeight'].value === 'font-bold' ? 'bg-slate-200' :'' "
                    >
                        B
                    </button>
                    <button
                        (click)="toggleValue(text.controls['subTextStyle'], 'italic')"
                        class="text-center italic w-8 h-full hover:bg-slate-200"
                        [ngClass]="text.controls['subTextStyle'].value === 'italic' ? 'bg-slate-200' :'' "
                    >
                        I
                    </button>
                </div>
            </div>
            <textarea
                type="text"
                name="subText"
                formControlName="subText"
                class="h-40 min-h-[100px] w-full resize-none rounded-b-md border border-gray-400 bg-transparent px-3 py-2.5 text-sm font-normal"
            ></textarea>
        </div>
    </div>
    <div class="border-b-2 border-t-2 py-2 px-4">
        <p class="text-sm text-slate-500">Color</p>
    </div>
    <app-color
        [control]="text.controls['color']"
        [select]="'text'"
        [label]="'Text'"
        class
    ></app-color>
    <app-color
        [control]="text.controls['backgroundColor']"
        [select]="'background'"
        [label]="'Background'"
        class
    ></app-color>
    <ng-container *ngIf="!text.controls['toggleSide'].value">
        <app-color
            [control]="text.controls['toggleColor']"
            [select]="'background'"
            [label]="'Side'"
            class
        ></app-color>
    </ng-container>
    <div
        class="border-b-2 border-t-2 py-2 px-4 flex gap-1 items-center justify-between"
    >
        <p class="text-sm text-slate-500">Background Image</p>
        <button
            (click)="handleToggle(text.controls['imageToggle'])"
            class="w-auto h-auto"
        >
            <svg
                class="w-6 h-6 text-gray-800 dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="currentColor"
                viewBox="0 0 24 24"
                *ngIf="text.controls['imageToggle'].value"
            >
                <path
                    fill-rule="evenodd"
                    d="M4.998 7.78C6.729 6.345 9.198 5 12 5c2.802 0 5.27 1.345 7.002 2.78a12.713 12.713 0 0 1 2.096 2.183c.253.344.465.682.618.997.14.286.284.658.284 1.04s-.145.754-.284 1.04a6.6 6.6 0 0 1-.618.997 12.712 12.712 0 0 1-2.096 2.183C17.271 17.655 14.802 19 12 19c-2.802 0-5.27-1.345-7.002-2.78a12.712 12.712 0 0 1-2.096-2.183 6.6 6.6 0 0 1-.618-.997C2.144 12.754 2 12.382 2 12s.145-.754.284-1.04c.153-.315.365-.653.618-.997A12.714 12.714 0 0 1 4.998 7.78ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"
                    clip-rule="evenodd"
                />
            </svg>
            <svg
                class="w-6 h-6 text-gray-800 dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="currentColor"
                viewBox="0 0 24 24"
                *ngIf="!text.controls['imageToggle'].value"
            >
                <path
                    d="m4 15.6 3.055-3.056A4.913 4.913 0 0 1 7 12.012a5.006 5.006 0 0 1 5-5c.178.009.356.027.532.054l1.744-1.744A8.973 8.973 0 0 0 12 5.012c-5.388 0-10 5.336-10 7A6.49 6.49 0 0 0 4 15.6Z"
                />
                <path
                    d="m14.7 10.726 4.995-5.007A.998.998 0 0 0 18.99 4a1 1 0 0 0-.71.305l-4.995 5.007a2.98 2.98 0 0 0-.588-.21l-.035-.01a2.981 2.981 0 0 0-3.584 3.583c0 .012.008.022.01.033.05.204.12.402.211.59l-4.995 4.983a1 1 0 1 0 1.414 1.414l4.995-4.983c.189.091.386.162.59.211.011 0 .021.007.033.01a2.982 2.982 0 0 0 3.584-3.584c0-.012-.008-.023-.011-.035a3.05 3.05 0 0 0-.21-.588Z"
                />
                <path
                    d="m19.821 8.605-2.857 2.857a4.952 4.952 0 0 1-5.514 5.514l-1.785 1.785c.767.166 1.55.25 2.335.251 6.453 0 10-5.258 10-7 0-1.166-1.637-2.874-2.179-3.407Z"
                />
            </svg>
        </button>
    </div>
    <app-ranger
        [control]="text.controls['imageDarken']"
        *ngIf="text.controls['image'].value"
    ></app-ranger>
    <app-color
        [control]="text.controls['imageTintColor']"
        [select]="'background'"
        [label]="'Image Tint'"
        *ngIf="text.controls['image'].value"
    ></app-color>
    <div class="flex flex-col gap-2 px-4">
        <div
            class="h-20 w-full relative rounded-lg overflow-hidden"
            *ngIf="text.controls['image'].value"
        >
            <div
                (click)="handleRemove()"
                class="h-20 w-full absolute z-10 rounded-lg text-slate-500 border-2 hover:border-red-500 flex justify-center items-center hover:text-red-500 cursor-pointer"
            >
                <svg
                    class="w-6 h-6"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        fill-rule="evenodd"
                        d="M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z"
                        clip-rule="evenodd"
                    />
                </svg>
            </div>
        </div>
        <input
            type="file"
            (change)="handleChange($event)"
            accept="image/*"
            class="w-full"
            *ngIf="!text.controls['image'].value"
        />
    </div>
</form>
